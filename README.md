# Team_projects--zerobase

제로베이스 데이터사이언티스트 취업 스쿨 도중 진행했던 프로젝트들 입니다.

### 1. 마켓컬리 리뷰 감정 분석

마켓컬리의 리뷰의 긍정/부정을 분석하고 키워드를 추출하여 마케팅 전략을 수립하는 것이 목표.

1. 구글플레이스토어에서 마켓컬리 리뷰 크롤링(google_play_scraper 모듈 활용)
   
2. 데이터 전처리
   - soynlp, hanspell 등 모듈 활용 (영어, 특수문자, 이모티콘 등등 제거 / 맞춤법 및 띄어쓰기 교정 / 불용어 처리)
   - 1 ~ 3점은 부정(0), 4 ~ 5점은 긍정(1) 으로 라벨링
   - okt를 이용해 리뷰를 토큰화 하고, tfidf_vectorizer를 이용해 벡터화
    
3. 데이터 학습
   - Smote 오버샘플링 기법 사용하여 부정리뷰 정확도 약 10% 항샹.
   - logistic regression / LGBM / Random forest 모델 성능 비교
     
4. 학습 결과 분석
   - Logistic regression 모델을 사용하여 회귀계수(-> Odds)로 키워드별 긍정 부정 영향력 파악
   - 긍정/부정 상위 10개 키워드로 실제리뷰를 분석하여 마케팅 전략 수립
     
  

### 2. 요기요 사진 리뷰 불량 탐지

요기요의 사진 리뷰의 불량을 탐지하여 양질의 리뷰를 걸러내는 모델을 개발하여 적립금을 알맞게 부여하는 것이 목표

1. 구글이미지에서 음식 사진 크롤링     -  train data
   요기요 사이트에서 사진 리뷰 크롤링  -  test data
   
2. 데이터 전처리
   - 수집한 사진 데이터를 Yolo 학습을 하기 위해 labelIMG 프로그램으로 라벨링 작업.
   - Yolo 학습을 위해 데이터 train/validation로 나누고 그 안에서도 image/label 파일로 나눔.
    
3. 데이터 학습
   - Yolo v8n 모델 사용
     
4. 학습 결과 분석
   - 요기요 사진 리뷰를 모델에 돌려 예측 시킴.
   - 요기요 사이트의 카테고리 품목과 예측 라벨이 맞다면 양질 리뷰라고 판단.
   - 정확도가 55%로 매우 낮게 나옴
  
5. 한계점
   - train data vs test data
     구글이미지와 요기요 사진리뷰의 특성이 달라 정확도가 떨어졌다 생각됨.

   - 요기요 카테고리 분류
     카테고리로 나눠도 매장에서 다양한 메뉴를 파는 경우 후처리 작업이 필요
     ex) 지금 모델은 치킨 카테고리의 매장에서 피자, 햄버거도 파는 경우 햄버거 라벨이 나오면 불량으로 판단했음.
       -> 매장 별 메뉴를 파악하여 통합 예측을 진행한 결과 예측 정확도가 약 30% 증가함.
     

### 3. 졸음 상태 감지 알고리즘 개발

사람의 졸음을 수치적으로 정의하고 졸음을 실시간으로 탐지하여 졸음의 정도를 파악, 실시간 영상처리

1. mediapipe 딥러닝 프레임워크를 활용해 얼굴의 주요 랜드마크(눈, 입) 의 좌표를 추출함.
   
2. opencv로 실시간 영상처리
 
3. 눈의 종횡비 Ear Aspect Ratio(EAR)을 계산하여 눈 깜빡임 탐지
   관련 논문 내용을 토대로 눈 깜빡임에서 시간을 측정해 perclos라는 졸음의 척도를 구현

4. 입의 종횡비 Mouth Opening Ratio(MOR)을 계산하여 하품 탐지
   관련 논문 내용을 토대로 입의 열고 닫음 시간을 측정해 yawn frequency(하품 빈도)를 계산

5. 60초를 기준으로 현재부터 60초 전의 상황을 파악하여 졸음 상태 판단.
   상태는 정상, 피로, 졸음 3단계로 구현.
   60초 동안 눈깜빡임과 하품이 올라가면 상태 up, 눈 깜빡임과 하품이 줄어들면 상태 down.

6. 프레임기준으로 모델 변경
   opencv를 활용하면 프레임 단위로 계산하는 것 이 더 간편할 거같아 프레임 기준으로 변경
   하드웨어 기준 프레임은 30frame, 즉, 60초 x 30frame = 1800frame 기준으로 졸음 판단 구현

7. 웹 캠 옆에 실시간으로 파라미터 값, 졸음 상태를 보여주는 대시보드 추가 
   
